const express = require('express');
const app = express();
app.use(express.json());

app.post('/detector-tendencias', (req, res) => {
  const { texto } = req.body;
  // Simula resposta rica para categoria Moda
  if (typeof texto === 'string' && texto.toLowerCase().includes('moda')) {
    res.json({
      texto: "Moda: Título otimizado para categoria Moda",
      keywords: ["tendência", "fashion", "exclusivo", "lançamento", "desconto"],
      recomendacoes: [
        "Use termos como 'fashion' e 'exclusivo'",
        "Destaque lançamentos e descontos",
        "Inclua palavras que geram desejo"
      ],
      titulos: [
        "Camiseta Básica Algodão Masculina",
        "Vestido Midi Floral Feminino",
        "Calça Jeans Skinny Feminina",
        "Blusa Manga Longa Tricot",
        "Jaqueta Jeans Oversized",
        "Shorts Sarja Masculino",
        "Saia Plissada Preta",
        "Camisa Social Slim Masculina",
        "Regata Fitness Feminina",
        "Moletom Canguru Unissex",
        "Blazer Alfaiataria Feminino",
        "Calça Jogger Moletom Masculina",
        "Macacão Pantacourt Feminino",
        "Polo Piquet Masculina",
        "Top Cropped Renda",
        "Cardigan Tricot Feminino",
        "Bermuda Jeans Masculina",
        "Vestido Tubinho Preto",
        "Camiseta Estampada Unissex",
        "Calça Legging Fitness",
        "Blusa Ciganinha Feminina",
        "Camisa Xadrez Flanela Masculina",
        "Saia Jeans Destroyed",
        "Jaqueta Corta Vento Masculina",
        "Vestido Longo Estampado",
        "Shorts Jeans Feminino",
        "Blusa Gola Alta Feminina",
        "Calça Cargo Masculina",
        "Camisa Linho Manga Curta",
        "Moletom Estampado Feminino",
        "Blazer Masculino Slim",
        "Vestido Envelope Floral",
        "Camiseta Dry Fit Masculina",
        "Saia Midi Plissada",
        "Calça Pantalona Feminina",
        "Camisa Polo Listrada",
        "Shorts Praia Masculino",
        "Blusa Cropped Manga Bufante",
        "Jaqueta Couro Sintético",
        "Vestido Chemise Jeans",
        "Calça Flare Feminina",
        "Camiseta Manga Raglan",
        "Saia Lápis Social",
        "Camisa Manga Curta Estampada",
        "Moletom Capuz Masculino",
        "Blusa Bata Feminina",
        "Calça Skinny Masculina",
        "Vestido Curto Paetê",
        "Camiseta Básica Feminina",
        "Jaqueta Bomber Masculina",
        "Saia Godê Estampada",
        "Camisa Social Tradicional",
        "Shorts Alfaiataria Feminino",
        "Blusa Ombro a Ombro",
        "Calça Jogger Feminina",
        "Vestido Longo Liso",
        "Camiseta Estampada Masculina",
        "Jaqueta Puffer Feminina",
        "Saia Longa Boho",
        "Camisa Manga Longa Masculina",
        "Moletom Cropped Feminino",
        "Blazer Alongado Feminino",
        "Calça Moletom Unissex",
        "Vestido Curto Estampado",
        "Camiseta Gola V Masculina",
        "Saia Envelope Feminina",
        "Camisa Jeans Feminina",
        "Shorts Fitness Feminino",
        "Blusa Decote V Feminina",
        "Calça Pantacourt Feminina",
        "Vestido Midi Liso",
        "Camiseta Manga Curta Masculina",
        "Jaqueta Parka Feminina",
        "Saia Curta Jeans",
        "Camisa Manga Curta Masculina",
        "Moletom Fechado Feminino",
        "Blazer Slim Masculino",
        "Calça Social Feminina",
        "Vestido Longo Floral",
        "Camiseta Estampada Feminina",
        "Jaqueta Nylon Masculina",
        "Saia Midi Estampada",
        "Camisa Polo Tradicional",
        "Shorts Jeans Masculino",
        "Blusa Manga Curta Feminina",
        "Calça Legging Estampada",
        "Vestido Curto Liso",
        "Camiseta Manga Longa Masculina",
        "Jaqueta Couro Feminina",
        "Saia Plissada Estampada",
        "Camisa Manga Longa Feminina",
        "Moletom Capuz Feminino",
        "Blazer Alfaiataria Masculino",
        "Calça Flare Jeans",
        "Vestido Midi Estampado",
        "Camiseta Básica Unissex",
        "Jaqueta Jeans Feminina",
        "Saia Longa Estampada",
        "Camisa Social Feminina",
        "Shorts Sarja Feminino"
      ]
    });
  } else {
    res.json({
      texto: "Título otimizado pela IA semântica",
      keywords: ["promoção", "original", "frete grátis"],
      recomendacoes: ["Use palavras de impacto", "Inclua benefícios do produto"]
    });
  }
});

app.listen(3003, () => console.log('Mock API rodando na porta 3003'));
